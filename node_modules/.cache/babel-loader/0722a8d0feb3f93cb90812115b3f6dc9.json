{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antip\\\\Desktop\\\\study\\\\shop\\\\src\\\\components\\\\header\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport auth, { provider } from '../../firebase';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport logo from \"../../images/ninja-logo.svg\";\nimport heart from \"../../images/heart.svg\";\nimport people from \"../../images/people.svg\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport \"./Header.css\";\nimport { login, logout, selectUser } from '../../features/user/userSlice';\nimport Nav from '../nav/Nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const userActive = useSelector(selectUser);\n  let [user] = useAuthState(auth);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const signIn = () => {\n    if (userActive) {\n      dispatch(logout());\n    } else {\n      auth.signInWithRedirect(provider).catch(error => alert(error.message));\n    }\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\n      if (userAuth) {\n        dispatch(login({\n          uid: userAuth.uid,\n          email: userAuth.email\n        }));\n      } else {\n        // Logged out\n        dispatch(logout());\n      }\n    });\n    return unsubscribe;\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"header container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      onClick: () => history.push(\"/\"),\n      className: \"header__logo\",\n      src: logo,\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__favorites\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: heart,\n          alt: \"heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => history.push('/favorites'),\n          children: \"Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: signIn,\n        className: \"header__login\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: people,\n          alt: \"people\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), userActive ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: user.displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 71\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"x3+XGddrNLe020ccSOEmzBM24Jo=\", false, function () {\n  return [useSelector, useAuthState, useHistory, useDispatch];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/antip/Desktop/study/shop/src/components/header/Header.js"],"names":["React","useEffect","useHistory","auth","provider","useAuthState","useDispatch","useSelector","login","logout","selectUser","Nav","Header","userActive","user","history","dispatch","signIn","signInWithRedirect","catch","error","alert","message","unsubscribe","onAuthStateChanged","userAuth","uid","email","push","logo","heart","people","displayName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,IAAP,IAAeC,QAAf,QAA+B,gBAA/B;AACA,SAASC,YAAT,QAA6B,2BAA7B;;;;AAKA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,cAAP;AACA,SAAQC,KAAR,EAAeC,MAAf,EAAuBC,UAAvB,QAAyC,+BAAzC;AACA,OAAOC,GAAP,MAAgB,YAAhB;;;AAEA,SAASC,MAAT,GAAkB;AAAA;;AAEd,QAAMC,UAAU,GAAGN,WAAW,CAACG,UAAD,CAA9B;AACA,MAAI,CAACI,IAAD,IAAST,YAAY,CAACF,IAAD,CAAzB;AAEA,QAAMY,OAAO,GAAGb,UAAU,EAA1B;AACA,QAAMc,QAAQ,GAAGV,WAAW,EAA5B;;AAEA,QAAMW,MAAM,GAAG,MAAM;AACjB,QAAGJ,UAAH,EAAe;AACXG,MAAAA,QAAQ,CAACP,MAAM,EAAP,CAAR;AACH,KAFD,MAEO;AACHN,MAAAA,IAAI,CAACe,kBAAL,CAAwBd,QAAxB,EAAkCe,KAAlC,CAAyCC,KAAD,IACxCC,KAAK,CAACD,KAAK,CAACE,OAAP,CADL;AAEH;AACJ,GAPD;;AASArB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMsB,WAAW,GAAGpB,IAAI,CAACqB,kBAAL,CAAyBC,QAAD,IAAc;AACxD,UAAGA,QAAH,EAAa;AACXT,QAAAA,QAAQ,CACJR,KAAK,CAAC;AACFkB,UAAAA,GAAG,EAAED,QAAQ,CAACC,GADZ;AAEFC,UAAAA,KAAK,EAAEF,QAAQ,CAACE;AAFd,SAAD,CADD,CAAR;AAKD,OAND,MAMO;AACL;AACAX,QAAAA,QAAQ,CAACP,MAAM,EAAP,CAAR;AACD;AACF,KAXmB,CAApB;AAYA,WAAOc,WAAP;AACD,GAdM,EAcJ,CAACP,QAAD,CAdI,CAAT;AAiBA,sBACI;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAAA,4BACI;AAAK,MAAA,OAAO,EAAE,MAAMD,OAAO,CAACa,IAAR,CAAa,GAAb,CAApB;AAAuC,MAAA,SAAS,EAAC,cAAjD;AAAgE,MAAA,GAAG,EAAEC,IAArE;AAA2E,MAAA,GAAG,EAAC;AAA/E;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACI;AAAK,UAAA,GAAG,EAAEC,KAAV;AAAiB,UAAA,GAAG,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAM,UAAA,OAAO,EAAE,MAAMf,OAAO,CAACa,IAAR,CAAa,YAAb,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAKI;AAAK,QAAA,OAAO,EAAEX,MAAd;AAAsB,QAAA,SAAS,EAAC,eAAhC;AAAA,gCACI;AAAK,UAAA,GAAG,EAAEc,MAAV;AAAkB,UAAA,GAAG,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEMlB,UAAU,gBAAI;AAAA,oBAAOC,IAAI,CAACkB;AAAZ;AAAA;AAAA;AAAA;AAAA,gBAAJ,gBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFtD;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GAlDQpB,M;UAEcL,W,EACNF,Y,EAEGH,U,EACCI,W;;;KANZM,M;AAoDT,eAAeA,MAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport auth, { provider } from '../../firebase';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n\r\nimport logo from '../../images/ninja-logo.svg';\r\nimport heart from '../../images/heart.svg';\r\nimport people from '../../images/people.svg';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport \"./Header.css\";\r\nimport {login, logout, selectUser } from '../../features/user/userSlice';\r\nimport Nav from '../nav/Nav';\r\n\r\nfunction Header() {\r\n\r\n    const userActive = useSelector(selectUser);\r\n    let [user] = useAuthState(auth);\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const signIn = () => {\r\n        if(userActive) {\r\n            dispatch(logout())\r\n        } else {\r\n            auth.signInWithRedirect(provider).catch((error) => \r\n            alert(error.message))\r\n        } \r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((userAuth) => {\r\n          if(userAuth) {\r\n            dispatch(\r\n                login({\r\n                    uid: userAuth.uid,\r\n                    email: userAuth.email\r\n                }))\r\n          } else {\r\n            // Logged out\r\n            dispatch(logout())\r\n          }\r\n        })\r\n        return unsubscribe;\r\n      }, [dispatch])\r\n    \r\n\r\n    return (\r\n        <header className=\"header container-fluid\">\r\n            <img onClick={() => history.push(\"/\")} className=\"header__logo\" src={logo} alt=\"logo\"/>\r\n            <Nav />\r\n            <div className=\"header__right\">\r\n                <div className=\"header__favorites\">\r\n                    <img src={heart} alt=\"heart\"/>\r\n                    <span onClick={() => history.push('/favorites')}>Favorites</span>\r\n                </div>\r\n                <div onClick={signIn} className=\"header__login\">\r\n                    <img src={people} alt=\"people\"/>\r\n                    { userActive ?  <span>{user.displayName}</span> : <span>Log in</span>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}